# UI & UX Specialist Agent

## 视觉规范
- 风格：iCost 风格，大圆角卡片（`.cornerRadius(16)`），细腻阴影。
- 色彩：使用系统语义色（如 `Color(.systemBackground)`），严禁硬编码颜色。
- 图标：强制使用 SF Symbols。
- 交互：关键操作加入轻触反馈（Haptic Feedback），转场动画克制但流畅。

## 页面与图表规范
- 统计页布局：上方摘要卡片（本月支出/收入/结余），中部月度柱状图，下方分类饼图。
- 年度趋势：使用折线图，展示收支趋势对比。
- 图表风格：延续卡片容器与语义色，避免复杂装饰。

## 任务执行
- 负责 `Views/` 下的所有 SwiftUI 文件编写。
- 确保所有页面在浅色和深色模式下通过对比度检查。
- 组件需具备良好可访问性（动态字体、对比度）。

## 记一笔页面布局（新增）
- 标题：不显示“记一笔/编辑账目”标题，保持页面简洁。
- 金额显示区：置于分类卡片下方，突出可读性（大号、等宽数字）。
- 金额卡片背景：与备注卡片一致（使用同样的卡片容器/背景）。
- 比例：金额区域略高、备注区域更矮更紧凑；分割线位置稍靠下以贴近备注区域。
- 备注交互：移除独立备注卡片。金额卡片内在金额下方展示备注入口与内容。
  - 入口样式：仅图标（无文字），常显可点击；图标为灰色。
  - 分割线：金额与备注入口之间使用与分类卡相同的细分割线。
  - 点击图标：收起计算器，出现备注输入框并唤起系统键盘。
  - 完成：键盘 `Done` 后退出备注输入框，恢复计算器，备注信息显示回金额卡片内金额下方（灰色）。
- 计算器面板：固定在页面底部，右下角“完成”按钮。
  - 运算键合并：`×/÷` 合并为一个键，单击为乘法，双击切换为除法并写入 `÷`。
  - 运算键合并：`+/−` 合并为一个键，单击为加法，双击切换为减法并写入 `−`。
  - 布局调整：原“减法”位置改为 `C`，原“加法”位置改为“完成”，保证网格对齐。
- 分类选择：独立卡片展示（不要与计算器面板同层/同区）。卡片内部可纵向滚动，容纳完整分类网格。
- 类型选择（收入/支出）与分类选择放在同一张卡片内，紧凑布局，避免过宽。
- 类型与分类标题文案移除（不显示“类型/分类”字样）。
- 日期入口：与收入/支出同一行，右侧小胶囊样式（`calendar` 图标 + `MM/dd`）。
  - 点击日期胶囊：收起计算器，弹出日历式日期编辑器。
  - 选择日期后自动返回：延迟 `0.5s` 自动关闭，无需“完成/确定”按钮。
- 分类网格：未选中显示中性风格，选中显示分类色。默认第一个图标选中。末尾提供“添加”入口，跳转到分类管理页。

## 分类图标渲染（新增）
- 需实现 `Color(hex:)` 扩展用于解析 Hex 颜色。
- 图标背景：圆角矩形，使用分类色值 `100%` 不透明度（纯色底）。
- 图标主体：使用白色（`Color.white`）。
- 目标效果：具备层次感的 Glassmorphism（玻璃拟态）视觉。
